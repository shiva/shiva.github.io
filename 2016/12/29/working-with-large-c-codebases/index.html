<!DOCTYPE html>
<html lang="en"><meta charset="utf-8" />

  <title>Working with large C codebases - Reflections</title>


  <meta name="description" content="Default Page Description" />

<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="stylesheet" href="http://blog.shiv.me/css/latex.css" />
<link rel="stylesheet" href="http://blog.shiv.me/css/main.css" />
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<meta name="generator" content="Hugo 0.75.1" /><body>






<header>
  <nav class="navbar">
  <div class="nav">
    

    <ul class="nav-links">
      
    </ul>
  </div>
</nav>
  <div class="intro-header">
    <div class="container">
      <div class="post-heading">
        
          <h1>Working with large C codebases</h1>
          
        
      </div>
    </div>
  </div>
</header>
<div id="content">
  <div class="container" role="main">
    <article class="article" class="blog-post">
      <div class="postmeta">
        <span class="meta-post">
  <i class="fa fa-calendar-alt"></i>Dec 29, 2016
  
    <br><i class="fa fa-folder-open"></i>
    
      <a href="http://blog.shiv.me//categories/programming/">programming</a>&nbsp;
    
  
</span>
      </div>
      <br>
      
    <h3 id="searching-for-symbols">Searching for symbols</h3>
<p>The product that I work on, has over 22 million lines of source &ndash; most of it a nightmare. I use vim as my editor of choice <sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>. Both cscope and ctags (integrated into vim), allow me to quickly move between files and lookup definitions of symbols, and help in understanding the challenge-du-jour.</p>
<p>Throw in fuzzy find capabilities of the most awesome <a href="https://github.com/kien/ctrlp.vim">Ctrl+p plugin</a>, and vim becomes the best &lsquo;IDE&rsquo; out there!</p>
<p>However, large code bases result in very large indexes. A fully indexed ctags file for the product I work is several gigabytes. At this scale, searching for a symbols slows vim down substantially. It is vital to isolate and index a portion of the source &ndash; the part that I am interested in on a given day.</p>
<p>I use the following aliases to build tags files and cscope databases as I need.</p>
<!-- raw HTML omitted -->
<h3 id="dealing-with-whitespace">Dealing with whitespace</h3>
<p>I like to strip trailing whitespace. Trailing whitespace, results in confusing diffs between two versions of a file. It increases the congnitive dissonance when reading git-diffs and patches &ndash; it is quite tiresome when reviewing 20-30 commits a day.</p>
<p>The following aliases help strip trailing whitespace given a file and keep commits deltas devoid of un-necessary whitespace changes.</p>
<!-- raw HTML omitted -->
<section class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p>Don&rsquo;t even think of using eclipse or another IDE. A code-base this size, is simply too large for anything except simple text-based tools <a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</section>



      
        <div class="blog-tags">
          
            <a href="http://blog.shiv.me//tags/bash/">bash</a>&nbsp;
          
            <a href="http://blog.shiv.me//tags/aliases/">aliases</a>&nbsp;
          
            <a href="http://blog.shiv.me//tags/cscope/">cscope</a>&nbsp;
          
            <a href="http://blog.shiv.me//tags/ctags/">ctags</a>&nbsp;
          
            <a href="http://blog.shiv.me//tags/remove-whitespace/">remove whitespace</a>&nbsp;
          
            <a href="http://blog.shiv.me//tags/strip-whitespace/">strip whitespace</a>&nbsp;
          
            <a href="http://blog.shiv.me//tags/git/">git</a>&nbsp;
          
        </div>
      
    </article>
    
  </div>

        </div><footer>
  <div class="container">
    <p class="credits copyright">
      <p class="credits theme-by">
        Powered By <a href="https://gohugo.io">Hugo</a>&nbsp;/&nbsp;Theme&nbsp;<a href="https://github.com/7ma7X/HugoTeX">HugoTeX</a>
        <br>
        <a href="http://blog.shiv.me/about">Shiva Velmurugan</a>
        &copy;
        2016
      </p>
  </div>
</footer></body>
</html>
